<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Staff Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="top-header">
  <h2>üîí ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h2>
</header>

<div class="auth-page">
  <div class="auth-card">
    <h1>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h1>
    <p class="auth-sub">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>
<form id="login-form" class="auth-form">
    <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
    <input id="staff-user" type="text" placeholder="Username" required />
    
    <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
    <input id="staff-pass" type="password" placeholder="Password" required />
</form>
    <div class="auth-actions">
  <button class="btn-main" onclick="checkStaffLogin()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
  <button class="btn-soft" onclick="history.back()">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
    </div>

  </div>
</div>

<script>
async function checkStaffLogin(){
  const user = document.getElementById("staff-user").value.trim();
  const pass = document.getElementById("staff-pass").value.trim();

  const res = await fetch("api/api.php?action=staff_login", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({username:user, password:pass})
  });
  const j = await res.json();

  if(!j.ok){
    alert(j.msg);
    return;
  }
  localStorage.setItem("role","staff");
  localStorage.setItem("staffName", j.data.username);
  location.href = "admin.html";
}
</script>


</body>
</html>
